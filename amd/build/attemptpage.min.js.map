{"version":3,"sources":["../src/attemptpage.js"],"names":["define","$","setup","props","console","log","quizurl","CloseOnParentClose","window","opener","closed","close","parentWindowURL","location","href","share_state","invigilator_share_state","window_surface","invigilator_window_surface","value","ready","setInterval","init"],"mappings":"AAAAA,OAAM,sCAAC,CAAC,QAAD,CAAW,WAAX,CAAwB,mBAAxB,CAAD,CACF,SAASC,CAAT,CAAgC,CAC5B,MAAO,CACHC,KAAK,CAAE,eAASC,CAAT,CAAgB,CACnBC,OAAO,CAACC,GAAR,CAAY,0BAAZ,EACA,GAAIC,CAAAA,CAAO,CAAGH,CAAK,CAACG,OAApB,CACA,QAASC,CAAAA,CAAT,EAA8B,CAC1B,GAA4B,WAAxB,QAAOC,CAAAA,MAAM,CAACC,MAAd,EAAyD,IAAlB,GAAAD,MAAM,CAACC,MAAlD,CAAmE,CAC/D,GAAID,MAAM,CAACC,MAAP,CAAcC,MAAlB,CAA0B,CACtBF,MAAM,CAACG,KAAP,EACH,CACJ,CAJD,IAIO,CACHH,MAAM,CAACG,KAAP,EACH,CAED,GAAIC,CAAAA,CAAe,CAAGJ,MAAM,CAACC,MAAP,CAAcI,QAAd,CAAuBC,IAA7C,CACAV,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBO,CAAzB,EACAR,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBC,CAAvB,EAEA,GAAIM,CAAe,GAAKN,CAAxB,CAAiC,CAC7BE,MAAM,CAACG,KAAP,EACH,CAfyB,GAiBtBI,CAAAA,CAAW,CAAGP,MAAM,CAACC,MAAP,CAAcO,uBAjBN,CAkBtBC,CAAc,CAAGT,MAAM,CAACC,MAAP,CAAcS,0BAlBT,CAsB1B,GAA0B,MAAtB,GAAAH,CAAW,CAACI,KAAhB,CAAkC,CAG9BX,MAAM,CAACG,KAAP,EACH,CAED,GAA6B,SAAzB,GAAAM,CAAc,CAACE,KAAnB,CAAwC,CAEpCX,MAAM,CAACG,KAAP,EACH,CACJ,CACDV,CAAC,CAACO,MAAD,CAAD,CAAUY,KAAV,CAAgB,UAAW,CACvBC,WAAW,CAACd,CAAD,CAAqB,GAArB,CACd,CAFD,EAGA,QACH,CAzCE,CA0CHe,IAAI,CAAE,eAAgB,CAClBlB,OAAO,CAACC,GAAR,CAAY,yBAAZ,EACA,QACH,CA7CE,CA+CV,CAjDC,CAAN","sourcesContent":["define(['jquery', 'core/ajax', 'core/notification'],\n    function($, Ajax, Notification) {\n        return {\n            setup: function(props) {\n                console.log('attemptpage/setup called');\n                var quizurl = props.quizurl;\n                function CloseOnParentClose() {\n                    if (typeof window.opener != 'undefined' && window.opener !== null) {\n                        if (window.opener.closed) {\n                            window.close();\n                        }\n                    } else {\n                        window.close();\n                    }\n\n                    var parentWindowURL = window.opener.location.href;\n                    console.log(\"parenturl\", parentWindowURL);\n                    console.log(\"quizurl\", quizurl);\n\n                    if (parentWindowURL !== quizurl) {\n                        window.close();\n                    }\n\n                    var share_state = window.opener.invigilator_share_state;\n                    var window_surface = window.opener.invigilator_window_surface;\n                    // Console.log('parent ss', share_state);\n                    // console.log('parent ws', window_surface);\n\n                    if (share_state.value !== \"true\") {\n                        // Window.close();\n                        // console.log('close window now');\n                        window.close();\n                    }\n\n                    if (window_surface.value !== 'monitor') {\n                        // Console.log('close window now');\n                        window.close();\n                    }\n                }\n                $(window).ready(function() {\n                    setInterval(CloseOnParentClose, 1000);\n                });\n                return true;\n            },\n            init: function(props) {\n                console.log('attemptpage/init called');\n                return true;\n            }\n        };\n    });\n"],"file":"attemptpage.min.js"}